(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(22)},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),s=n.n(o),c=(n(19),n(10)),i=n(1),l=n.n(i),m=n(2),u=n(9),p=n(5),d=n(6),f=n(7),h=n(11),v=n(8),E=n(12);var b=function(e){var t=e.user;return r.a.createElement("ul",{className:"post-info"},r.a.createElement("li",null,"author: ".concat(t.name)),r.a.createElement("li",null,"email: ".concat(t.email)),r.a.createElement("li",null,"\n                      address: ".concat(t.address.street,"\n                      ").concat(t.address.suite,"\n                      ").concat(t.address.city,"\n                      ").concat(t.address.zipcode,"\n                     ")))};var y=function(e){e.postId;var t=e.comment;return r.a.createElement("li",{className:"post__comment"},"name: "+t.name,r.a.createElement("span",{className:"post__comment-body"},t.body),r.a.createElement("span",{className:"post__comment-email"},"email: "+t.email))};var j=function(e){var t=e.comments;return r.a.createElement("ul",{className:"post__comments"},t.map(function(e,t){return r.a.createElement(y,{key:t,comment:e})}))};var w=function(e){var t=e.post,n=e.user,a=e.comments,o=e.index;return r.a.createElement("li",{key:o}," ",t.id+": "+t.title,r.a.createElement("span",{className:"post__comments-readmore"},"comments..."),r.a.createElement(j,{comments:a}),r.a.createElement(b,{user:n}))};var g=function(e){var t=e.posts;return r.a.createElement("ul",{className:"post__list"},t.map(function(e,t){var n=e.user,a=e.commentsPost;return r.a.createElement(w,{key:t,user:n,post:e,comments:a})}))},N=function(){return fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()})},_=function(){return fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})},O=function(){return fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()})},P=(n(21),function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(h.a)(this,Object(v.a)(t).call(this))).getData=Object(p.a)(l.a.mark(function t(){var n,a,r,o,s,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([N(),_(),O()]);case 2:n=t.sent,a=Object(u.a)(n,3),r=a[0],o=a[1],s=a[2],c=r.map(function(e){return Object(m.a)({},e,{user:o.find(function(t){return t.id===e.userId}),commentsPost:s.filter(function(t){return t.postId===e.id})})}),e.setState(function(e){return Object(m.a)({},e,{posts:c,visiblePosts:c,completeLoad:!e.completeLoad})});case 9:case"end":return t.stop()}},t)})),e.preparePosts=function(){var t=e.state,n=t.posts,a=t.sortField,r=t.query.toLowerCase(),o=n.filter(function(e){return e.title.toLowerCase().includes(r)});return{visiblePosts:Object(c.a)(o).sort({id:function(e,t){return e.id-t.id},title:function(e,t){return e.title.localeCompare(t.title)},user:function(e,t){return e.user.name.localeCompare(t.user.name)}}[a])}},e.sort=function(t){e.setState({sortField:t.target.value},function(){return e.setState(e.preparePosts)})},e.filter=function(t){e.setState({query:t.target.value},function(){return e.setState(e.preparePosts)})},e.state={query:"",sortField:"",posts:[],visiblePosts:[],completeLoad:!1},e}return Object(E.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Dynamic List Of Posts")),r.a.createElement("div",{className:"App-nav"},this.state.completeLoad?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{onChange:this.sort},r.a.createElement("option",{value:"id"},"Sorted By Id"),r.a.createElement("option",{value:"title"},"Sorted By Text"),r.a.createElement("option",{value:"user"},"Sorted By User Name")),r.a.createElement("input",{className:"search",type:"text",onChange:this.filter})):r.a.createElement("button",{className:"btn-load",onClick:this.getData},this.state.isLoading?"Loading...":"Load")),r.a.createElement("main",null,r.a.createElement(g,{posts:this.state.visiblePosts})))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.38128386.chunk.js.map